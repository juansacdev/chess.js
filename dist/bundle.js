(()=>{var e={608:(e,t)=>{t.dk={pieceLight:"#FFF",pieceDark:"#000"},t.rS={boardLight:"#d3a075",boardDark:"#7c4a32"},t.hA={isSelected:"#E6DA47"}}},t={};function i(s){var c=t[s];if(void 0!==c)return c.exports;var h=t[s]={exports:{}};return e[s](h,h.exports,i),h.exports}(()=>{"use strict";const e=class{selected;constructor(e){this.selected=!1,this.piece=e}setSelected(e){this.selected=e}setPiece(e){this.piece=e}};var t=i(608);const s=class{constructor(e,t){this.type=e,this.color=t}},c=["♚","♔"],h=["♛","♕"],n=["♜","♖"],a=["♝","♗"],l=["♞","♘"],o=["♟","♙"],r=new class{CELL_WIDTH;CELL_HEIGHT;canvas;contextCanvas;matriz=[new e];selectedCellPosition=[];constructor(t,i,s,c,h,n){this.width=t,this.height=i,this.columns=s,this.files=c,this.theme=h,this.pieceTheme=n,this.CELL_WIDTH=this.width/this.columns,this.CELL_HEIGHT=this.height/this.files,this.selectedCellPosition=null,this.canvas=document.createElement("canvas"),this.contextCanvas=this.canvas.getContext("2d"),this.canvas.width=this.width,this.canvas.height=this.height,document.body.appendChild(this.canvas),document.body.style.display="grid",document.body.style.placeItems="center",document.body.style.height="99vh",document.body.parentElement.style.height="100vh",document.body.style.alignItems="center",document.body.style.backgroundColor="#333";for(let t=0;t<this.files;t++){this.matriz[t]=[];for(let i=0;i<this.columns;i++)this.matriz[t][i]=new e}this.setMouseCell=this.setMouseCell.bind(this),this.setSelectedCell=this.setSelectedCell.bind(this),this.canvas.addEventListener("mousemove",this.setMouseCell),this.canvas.addEventListener("mousedown",this.setSelectedCell),this.canvas.addEventListener("mouseup",(()=>{console.log("Drop")}))}mouseCoordinateToCell(e,t){return[Math.floor(e/this.CELL_WIDTH),Math.floor(t/this.CELL_HEIGHT)]}setSelectedCell(e){const{layerX:t,layerY:i}=e,[s,c]=this.mouseCoordinateToCell(t,i);this.matriz[s][c].setSelected(!0),this.renderBoard()}setMouseCell(e){const{layerX:t,layerY:i}=e}initPlacePiece(e,t,i){this.matriz[e][t].setPiece(i)}renderBoard(){for(let e=0;e<this.files;e++)for(let i=0;i<this.columns;i++){let s=this.theme.boardLight,c=this.theme.boardDark;(e+i)%2&&(s=this.theme.boardDark,c=this.theme.boardLight),this.contextCanvas.fillStyle=s,this.contextCanvas.fillRect(e*this.CELL_WIDTH,i*this.CELL_HEIGHT,this.CELL_WIDTH,this.CELL_HEIGHT),this.contextCanvas.fillStyle=c,this.contextCanvas.textBaseline="top",this.contextCanvas.textAlign="start",this.contextCanvas.font="10px Arial",this.contextCanvas.fillText(`[${e};${i}]`,e*this.CELL_WIDTH+10,i*this.CELL_HEIGHT+10);const h=this.matriz[e][i];h.selected&&(this.contextCanvas.strokeStyle=t.hA.isSelected,this.contextCanvas.strokeRect(e*this.CELL_WIDTH,i*this.CELL_HEIGHT,this.CELL_WIDTH,this.CELL_HEIGHT));const n=h?.piece;n&&(this.contextCanvas.fillStyle=n.color,this.contextCanvas.textBaseline="middle",this.contextCanvas.textAlign="center",this.contextCanvas.font="66px Arial",this.contextCanvas.fillText(n.type[0],e*this.CELL_WIDTH+this.CELL_WIDTH/2,i*this.CELL_HEIGHT+this.CELL_HEIGHT/2),this.contextCanvas.fillStyle=this.pieceTheme.pieceDark,this.contextCanvas.fillText(n.type[1],e*this.CELL_WIDTH+this.CELL_WIDTH/2,i*this.CELL_HEIGHT+this.CELL_HEIGHT/2))}}}(800,800,8,8,t.rS,t.dk);for(let e=0;e<8;e++)r.initPlacePiece(e,1,new s(o,t.dk.pieceDark)),r.initPlacePiece(e,6,new s(o,t.dk.pieceLight));for(let e=0;e<2;e++)r.initPlacePiece(0,7*e,new s(n,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(1,7*e,new s(l,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(2,7*e,new s(a,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(3,7*e,new s(h,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(4,7*e,new s(c,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(5,7*e,new s(a,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(6,7*e,new s(l,e?t.dk.pieceLight:t.dk.pieceDark)),r.initPlacePiece(7,7*e,new s(n,e?t.dk.pieceLight:t.dk.pieceDark));r.renderBoard()})()})();